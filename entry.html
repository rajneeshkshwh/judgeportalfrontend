<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Judges Portal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous">
</script>
</head>
<body>
    <div class="navbar">
        <a href="https://www.alphalake.ai"><img src="images/AL_WHITE.png" class="logo"  alt="AL_WHITE" /></a>
      <!-- <img src="images/icon.png" alt="Icon" /> -->
    </div>
    <img src="images/HEADER-IMAGETWO.png" style="width: 80%;" class="desktop-image" alt="HEADER-IMAGETWO">
    <div class="section-one">
        <div class="section-one-text name" id="name">Entry submission from </div>
        <select name="cars" class="cars" id="cars">
            <option value="date">By Date</option>
            <option value="time">By Time</option>
            <option value="length">By Length</option>
        </select>
    </div>
    <div class="section-two">
        <div class="cardss" id="cardss">
            <div class="card">
                <div class="card-data">
                    <div class="card-description">
                        <div class="card-titles">First name</div>
                        <div class="card-type" id="firstname"></div>
                        <div class="card-titles">Last name</div>
                        <div class="card-type" id="lastname"></div>
                        <div class="card-titles">Email</div>
                        <div class="card-type" id="email"></div>
                        <div class="card-titles">Employer</div>
                        <div class="card-type" id="employer"></div>
                        <div class="card-titles">Job Title</div>
                        <div class="card-type" id="job"></div>
                        <div class="card-titles">RPA Idea</div>
                        <div class="card-type" id="idea"></div>
                        <div class="card-titles">Problem</div>
                        <div class="card-type" id="problem"></div>
                        <div class="card-titles">Quantify</div>
                        <div class="card-type" id="quantify"></div>
                        <div class="card-titles">Category</div>
                        <div class="card-type" id="category"></div>
                        <div class="card-titles">Department Name</div>
                        <div class="card-type" id="department"></div>
                        <div class="card-titles">Who benefits from this automation?</div>
                        <div class="card-type" id="benefit"></div>
                    </div>
                </div>
            </div>
            <div class="scoring">
                <div class="scoring-head">Scoring Criteria :</div>
                <div class="scoring-criteria">
                    <div>Is this really an Issue ?</div>
                    <input type="range" min="1" max="10" value="5" class="slider" id="myRange1">
                    <div class="slider-footer">
                        <div>Not at all</div>
                        <div>Definitely</div>
                    </div>
                </div>
                <div class="scoring-criteria">
                    <div>How urgently should this issue be addressed?</div>
                    <input type="range" min="1" max="10" value="5" class="slider" id="myRange2">
                    <div class="slider-footer">
                        <div>Never</div>
                        <div>Very High</div>
                    </div>
                </div>
                <div class="scoring-criteria">
                    <div>Does this automation address the problem?</div>
                    <input type="range" min="1" max="10" value="5" class="slider" id="myRange3">
                    <div class="slider-footer">
                        <div>No</div>
                        <div>Yes</div>
                    </div>
                </div>
                <div class="scoring-criteria">
                    <div>Time saved per person per week? </div>
                    <input type="range" min="1" max="10" value="5" class="slider" id="myRange4">
                    <div class="slider-footer">
                        <div>Minimal</div>
                        <div>>7 hours</div>
                    </div>
                </div>
                <div class="scoring-criteria">
                    <div>What is the complexity of the process to be 
                        automated? 
                        i.e. ease of deliverability?</div>
                    <input type="range" min="1" max="10" value="5" class="slider" id="myRange5">
                    <div class="slider-footer">
                        <div>Unimaginably Complex</div>
                        <div>Very Easy</div>
                    </div>
                </div>
                <div class="scoring-criteria">
                    <div>Repeatability across this sector? </div>
                    <input type="range" min="1" max="10" value="5" class="slider" id="myRange6">
                    <div class="slider-footer">
                        <div>Very Low</div>
                        <div>Very High</div>
                    </div>
                </div>
                <div class="scoring-criteria">
                    <div>Are more than 2 systems likely to be involved?</div>
                    <input type="range" min="1" max="10" value="5" class="slider" id="myRange7">
                    <div class="slider-footer">
                        <div>1-2 systems</div>
                        <div>3-4 systems</div>
                        <div>>5 systems</div>
                    </div>
                </div>
                <button id="saved" onclick="savedata()">Save</button>
            </div>
        </div>
    </div>

    <script>

        if(!window.localStorage.getItem('judge')){
            window.location.href="index.html";
        }


        console.log(window.localStorage.getItem('id'));
        var id = window.localStorage.getItem('id');
        $.get('https://evening-springs-68490.herokuapp.com/getindividualdata',   //url
       function(data, status, jqXHR) {// success callback
                console.log(data[id]);
                // name = document.getElementById("name");
                document.getElementById("name").innerHTML += `<b>${data[id].firstname}</b><b> </b><b>${data[id].lastname}</b>`;
                document.getElementById("firstname").innerHTML += `<div>${data[id].firstname}</div>`
                document.getElementById("lastname").innerHTML += `<div>${data[id].lastname}</div>`
                document.getElementById("email").innerHTML += `<div>${data[id].email}</div>`
                document.getElementById("employer").innerHTML += `<div>${data[id].employer}</div>`
                document.getElementById("job").innerHTML += `<div>${data[id].job}</div>`
                document.getElementById("idea").innerHTML += `<div>${data[id].idea}</div>`
                document.getElementById("quantify").innerHTML += `<div>${data[id].quantify}</div>`
                document.getElementById("category").innerHTML += `<div>${data[id].category}</div>`
                document.getElementById("department").innerHTML += `<div>${data[id].department}</div>`
                document.getElementById("benefit").innerHTML += `<div>${data[id].benefit}</div>`
        });

        function savedata(){
            var range1 = document.getElementById("myRange1").value;
            var range2 = document.getElementById("myRange2").value;
            var range3 = document.getElementById("myRange3").value;
            var range4 = document.getElementById("myRange4").value;
            var range5 = document.getElementById("myRange5").value;
            var range6 = document.getElementById("myRange6").value;
            var range7 = document.getElementById("myRange7").value;
            var score = parseInt(range1) + parseInt(range2) + parseInt(range3) + parseInt(range4) + parseInt(range5) + parseInt(range6) + parseInt(range7);


            $.post('https://evening-springs-68490.herokuapp.com/updatescore',   // url
            { id: parseInt(window.localStorage.getItem('id'))+1, judge: window.localStorage.getItem('judge'), score: score}, // data to be submit
            function(data, status, jqXHR) {// success callback
                        if(data=="updated"){
                            document.getElementById("saved").innerHTML = `Saved`;
                            document.getElementById("saved").removeAttribute("onclick");
                            setTimeout(function() {window.location.href="home.html";}, 3000);
                        
                        }
                        else{
                        alert(data);
                        }
                })


        }

    </script>
</body>
</html>